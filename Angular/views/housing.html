<article class="container view-content" style="height: 100%">
    <div class="col-md-10 col-md-offset-1" style="height: 100%">
        <section class="row">
            <div class="col-md-6">
                <h1>Housing Complexes</h1>
            </div>
            <div class="col-md-6 col-btn">
                <div class="col-md-4">
                    <button type="button" class="btn btn-default pull-right" data-toggle="modal" data-target="#addModal">
                        <span class="glyphicon glyphicon-plus"></span> New Complex
                    </button>
                </div>
                <div class="col-md-8">
                    <input type="text" placeholder="Search" ng-model="HousingScope.Search.Housing" class="form-control">
                </div>
            </div>
        </section>
        <section class="row">
            <hr />
        </section>
        <section class="row" id="housing-content">
            <div class="col-md-4" ng-repeat="item in HousingScope.Complexes | search:HousingScope.Search.Housing:2 | pagerange:HousingScope.CurrentPage1:HousingScope.PageSize1">
                <div class="panel panel-revature">
                    <div class="panel-heading">
                        <div class="row">
                            <div class="col-md-10">
                                <a ui-sref="housing-unit({ Name: item.Name })">
                                    <h3 class="panel-title">{{item.Name}}</h3>
                                </a>
                            </div>
                            <div class="col-md-2">
                                <button class="btn btn-default pull-right" data-toggle="modal" data-target="#editModal" ng-click="HousingScope.EditComplex(item)">
                                    <span class="glyphicon glyphicon-pencil"></span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="panel-body">
                        <p class="address">{{item.Address | address}}</p>
                        <p>{{item.PhoneNumber}}</p>
                    </div>
                    <div class="panel-footer">
                        <button type="button" class="btn btn-default btn-sm" data-toggle="modal" data-target="#removeModal" ng-click="HousingScope.GetCurrentComplex(item)">
                            <span class="glyphicon glyphicon-trash"></span> Remove
                        </button>
                    </div>
                </div>
            </div>
        </section>
        <section class="row" id="housing-pagination">
            <div class="text-center">
                <ul class="pagination input-group">
                    <li>
                        <a class="btn btn-default form-control" ng-click="HousingScope.GoToPage(1, HousingScope.CurrentPage1 - 1)" style="border-top-left-radius: 4px; border-bottom-left-radius: 4px;">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
                    <li ng-repeat="item in HousingScope.Complexes | search:HousingScope.Search.Housing:2 | pagecount:HousingScope.PageSize1">
                        <a class="btn btn-default form-control" ng-click="HousingScope.GoToPage(1, $index + 1)" ng-class="HousingScope.GetPageClass(1, $index + 1)">
                            {{$index + 1}}
                        </a>
                    </li>
                    <li>
                        <a class="btn btn-default form-control" ng-click="HousingScope.GoToPage(1, HousingScope.CurrentPage1 + 1)" style="border-top-right-radius: 4px; border-bottom-right-radius: 4px;">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                </ul>
            </div>
        </section>
    </div>
</article>

<!-- Add Complex Modal -->
<div class="modal fade" id="addModal" tabindex="-1" role="dialog" aria-labelledby="addModal">
    <form class="inputForms">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header modal-header-revature">
                    <h2 class="modal-title center text-uppercase" id="myModalLabel">Add New Complex</h2>
                </div>
                <div class="modal-body">
                    <div class="container form-group">
                        <div class="row">
                            <div class="col-md-6">
                                <label>
                                    <div class="row">
                                        Name
                                    </div>
                                    <div class="row">
                                        <input type="text" ng-model="HousingScope.NewComplex.Name" class="form-control" placeholder="Grand Apartments" required>
                                    </div>
                                </label>
                            </div>
                            <div class="col-md-6">
                                <label>
                                    <div class="row">
                                        Phone Number
                                    </div>
                                    <div class="row">
                                        <input type="text" ng-model="HousingScope.NewComplex.PhoneNumber" class="form-control" placeholder="(555) 555-5555" required>
                                    </div>
                                </label>
                            </div>
                        </div>
                        <br>
                        <div class="row">
                            <div class="col-md-12">
                                <label>
                                    <div class="row">
                                        Street Address
                                    </div>
                                    <div class="row">
                                        <input type="text" ng-model="HousingScope.NewComplex.Street" class="form-control" placeholder="123 1st Street" required>
                                    </div>
                                </label>
                            </div>
                        </div>
                        <br>
                        <div class="row">
                            <div class="col-md-4">
                                <label>
                                    <div class="row">
                                        City
                                    </div>
                                    <div class="row">
                                        <input type="text" ng-model="HousingScope.NewComplex.City" class="form-control" placeholder="Reston" required>
                                    </div>
                                </label>
                            </div>
                            <div class="col-md-4">
                                <label>
                                    <div class="row">
                                        State
                                    </div>
                                    <div class="row">
                                        <input type="text" ng-model="HousingScope.NewComplex.State" class="form-control" placeholder="Virginia" required>
                                    </div>
                                </label>
                            </div>
                            <div class="col-md-4">
                                <label>
                                    <div class="row">
                                        Zip Code
                                    </div>
                                    <div class="row">
                                        <input type="number" ng-model="HousingScope.NewComplex.ZipCode" class="form-control" placeholder="20190" required>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" ng-click="HousingScope.ResetForms('#addModal', 1)">Cancel</button>
                    <button type="submit" class="btn btn-default" ng-click="HousingScope.AddComplex('#addModal')">Confirm</button>
                </div>
            </div>
        </div>
    </form>
</div>

<!-- Update Complex Modal -->
<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="editModal">
    <form class="inputForms">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header modal-header-revature">
                    <h2 class="modal-title center text-uppercase" id="myModalLabel">Edit Complex</h2>
                </div>
                <div class="modal-body">
                    <div class="container form-group">
                        <div class="row">
                            <div class="col-md-6">
                                <label>
                                    <div class="row">
                                        Name
                                    </div>
                                    <div class="row">
                                        <input type="text" ng-model="HousingScope.UpdateComplex.Name" class="form-control" required disabled>
                                    </div>
                                </label>
                            </div>
                            <div class="col-md-6">
                                <label>
                                    <div class="row">
                                        Phone Number
                                    </div>
                                    <div class="row">
                                        <input type="text" ng-model="HousingScope.UpdateComplex.PhoneNumber" class="form-control" required>
                                    </div>
                                </label>
                            </div>
                        </div>
                        <br>
                        <div class="row">
                            <div class="col-md-12">
                                <label>
                                    <div class="row">
                                        Street Address
                                    </div>
                                    <div class="row">
                                        <input type="text" ng-model="HousingScope.UpdateComplex.Street" class="form-control" required>
                                    </div>
                                </label>
                            </div>
                        </div>
                        <br>
                        <div class="row">
                            <div class="col-md-4">
                                <label>
                                    <div class="row">
                                        City
                                    </div>
                                    <div class="row">
                                        <input type="text" ng-model="HousingScope.UpdateComplex.City" class="form-control" required>
                                    </div>
                                </label>
                            </div>
                            <div class="col-md-4">
                                <label>
                                    <div class="row">
                                        State
                                    </div>
                                    <div class="row">
                                        <input type="text" ng-model="HousingScope.UpdateComplex.State" class="form-control" required>
                                    </div>
                                </label>
                            </div>
                            <div class="col-md-4">
                                <label>
                                    <div class="row">
                                        Zip Code
                                    </div>
                                    <div class="row">
                                        <input type="number" ng-model="HousingScope.UpdateComplex.ZipCode" class="form-control" required>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" ng-click="HousingScope.ResetForms('#editModal', 2)">Cancel</button>
                    <button type="submit" class="btn btn-default" ng-click="HousingScope.ModComplex('#editModal')">Confirm</button>
                </div>
            </div>
        </div>
    </form>
</div>

<!-- Remove Complex Modal -->
<div class="modal fade" id="removeModal" tabindex="-1" role="dialog" aria-labelledby="removeModal">
    <form class="inputForms">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header modal-header-revature">
                    <h2 class="modal-title center text-uppercase" id="myModalLabel">Remove {{HousingScope.CurrentHousing.Name}}</h2>
                </div>
                <div class="modal-body">
                    Are you sure you want to remove {{HousingScope.CurrentHousing.Name}} from all available Complexes?
                    <p id="error-1" class="error-message">Can't remove: Complex contains active units!</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" ng-click="HousingScope.ResetForms('#removeModal', 1)">Cancel</button>
                    <button type="submit" class="btn btn-default" ng-click="HousingScope.RemoveComplex(HousingScope.CurrentHousing, '#removeModal')">Confirm</button>
                </div>
            </div>
        </div>
    </form>
</div>